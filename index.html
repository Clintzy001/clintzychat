<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ClintzyApp | Pulse Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root { 
            --brand: #F57C00; 
            --bg-primary: #000000;
            --bg-secondary: #121212;
            --text-main: #ffffff;
            --text-dim: #71717a;
            --glass: rgba(255, 255, 255, 0.03);
            --border-glass: rgba(255, 255, 255, 0.05);
            --safe-area-inset-bottom: env(safe-area-inset-bottom);
        }

        .hidden { display: none; }
        * { -webkit-tap-highlight-color: transparent; scrollbar-width: none; transition: background-color 0.3s ease, color 0.3s ease; }
        ::-webkit-scrollbar { display: none; }

        body { background-color: var(--bg-primary); color: var(--text-main); font-family: 'Inter', sans-serif; }

        /* Splash Screen */
        #splash-screen {
            position: fixed; inset: 0; background: black; display: flex;
            flex-direction: column; align-items: center; justify-content: center;
            z-index: 9999; transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
        }

        /* PROFILE GLOW ANIMATION */
        .profile-glow {
            position: relative; padding: 3px; border-radius: 2rem;
            background: linear-gradient(45deg, #F57C00, #ff00ea, #00d4ff, #F57C00);
            background-size: 300% 300%; animation: flowGradient 4s ease infinite;
        }

        @keyframes flowGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .wave-card {
            background: linear-gradient(180deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
            border: 1px solid rgba(255,255,255,0.08);
        }

        /* Profile Specific Styles */
        .profile-stat { display: flex; flex-direction: column; align-items: center; }
        .follow-btn {
            background: linear-gradient(45deg, var(--brand), #ffcc00);
            box-shadow: 0 4px 15px rgba(245, 124, 0, 0.3);
        }
        .content-tab-active { color: var(--brand); border-bottom: 2px solid var(--brand); }
        .media-grid-item { aspect-ratio: 1 / 1; border-radius: 1.5rem; overflow: hidden; background: #18181b; position: relative; }

        .nav-active { color: var(--brand) !important; position: relative; }
        .nav-active::after {
            content: ''; position: absolute; bottom: -8px; width: 4px; height: 4px;
            background: var(--brand); border-radius: 50%;
        }

        .fade-in-section { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .verification-dot { width: 8px; height: 8px; border-radius: 50%; background: #22c55e; box-shadow: 0 0 10px #22c55e; }
        #more-menu { transform-origin: top right; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
        
        /* Message Bubbles */
        .msg-in { background: #18181b; border-radius: 1.5rem 1.5rem 1.5rem 0.2rem; }
        .msg-out { background: var(--brand); color: black; border-radius: 1.5rem 1.5rem 0.2rem 1.5rem; }

        /* Pulse Story Overlay */
        #story-overlay { background: black; z-index: 1000; }
        .story-progress { height: 2px; background: rgba(255,255,255,0.2); flex: 1; border-radius: 10px; overflow: hidden; }
        .story-progress-bar { height: 100%; background: white; width: 0%; }

        /* Creator Options */
        .creator-option { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); }
    </style>
</head>
<body class="overflow-hidden">

    <div id="splash-screen">
        <h1 class="text-5xl font-black italic tracking-tighter text-[#F57C00] animate-pulse">Clintzy</h1>
        <div class="absolute bottom-12 flex flex-col items-center">
            <div class="flex gap-1 mb-4">
                <div class="w-1.5 h-1.5 bg-[#F57C00] rounded-full animate-bounce"></div>
                <div class="w-1.5 h-1.5 bg-[#F57C00] rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                <div class="w-1.5 h-1.5 bg-[#F57C00] rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
            </div>
            <p class="text-zinc-500 text-[10px] uppercase tracking-[0.4em]">Pulse Pro Engine</p>
        </div>
    </div>

    <div id="app-content" class="h-screen flex flex-col opacity-0 transition-opacity duration-700">
        <header class="px-6 py-5 flex justify-between items-center bg-transparent backdrop-blur-md sticky top-0 z-50">
            <div class="flex flex-col">
                <div class="flex items-center gap-2">
                    <h1 class="text-2xl font-black italic tracking-tighter text-[#F57C00]">Clintzy</h1>
                    <div class="verification-dot"></div>
                </div>
                <p class="text-[8px] font-black uppercase tracking-[0.2em] text-zinc-600 leading-none mt-1">from Clintzy Tech</p>
            </div>
            <div class="flex items-center space-x-6">
                <button onclick="switchTab('vault')" class="relative"><i data-lucide="bookmark" class="w-6 h-6 text-zinc-400 hover:text-[#F57C00]"></i></button>
                <button onclick="toggleMenu()"><i data-lucide="menu" class="w-6 h-6 text-zinc-400"></i></button>
            </div>

            <div id="more-menu" class="hidden absolute top-16 right-6 w-56 bg-[#121212] border border-white/5 rounded-3xl shadow-2xl z-[100] overflow-hidden p-2">
                <button onclick="switchTab('settings')" class="w-full p-4 text-left text-sm font-bold hover:bg-white/5 rounded-2xl">Pulse Settings</button>
                <div class="h-[1px] bg-white/5 my-2"></div>
                <button onclick="initiateSignOut()" class="w-full p-4 text-left text-sm font-bold text-red-500 hover:bg-red-500/10 rounded-2xl">Sign Out</button>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto">
            <div id="home-section" class="fade-in-section">
                <div class="px-6 mb-8 mt-4">
                    <div class="bg-zinc-900/50 border border-white/5 rounded-[2rem] px-5 py-4 flex items-center gap-4 group focus-within:border-[#F57C00]/50 transition-all">
                        <i data-lucide="sparkles" class="w-5 h-5 text-[#F57C00]"></i>
                        <input type="text" placeholder="Ask Clintzy AI..." class="bg-transparent outline-none w-full text-sm font-medium placeholder-zinc-600">
                    </div>
                </div>

                <div class="mb-10">
                    <div class="px-6 flex justify-between items-center mb-4">
                        <h3 class="text-xs font-black uppercase tracking-widest text-zinc-500">Live Pulse</h3>
                    </div>
                    <div class="flex gap-5 overflow-x-auto px-6 pb-2 no-scrollbar" id="stories-container">
                        <div class="flex flex-col items-center gap-2">
                            <div class="w-16 h-16 rounded-[1.8rem] bg-zinc-900 border-2 border-dashed border-zinc-700 flex items-center justify-center cursor-pointer" onclick="openCreatorOptions()">
                                <i data-lucide="plus" class="w-5 h-5 text-zinc-500"></i>
                            </div>
                            <span class="text-[9px] font-bold opacity-40 uppercase">YOU</span>
                        </div>
                        <script>
                            const users = [
                                {n: 'JESSICA', img: 'jessica', story: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=800'}, 
                                {n: 'MARCUS', img: 'marcus', story: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=800'}, 
                                {n: 'ALEX', img: 'alex', story: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800'}, 
                                {n: 'SARAH', img: 'sarah', story: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=800'}, 
                                {n: 'KAI', img: 'kai', story: 'https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=800'}, 
                                {n: 'ZANE', img: 'zane', story: 'https://images.unsplash.com/photo-1501196354995-cbb51c65aaea?w=800'}
                            ];
                            document.write(users.map(u => `
                                <div class="flex flex-col items-center gap-2 cursor-pointer group" onclick="viewStory('${u.n}', '${u.story}')">
                                    <div class="profile-glow">
                                        <div class="w-14 h-14 rounded-[1.6rem] overflow-hidden bg-black">
                                            <img src="https://i.pravatar.cc/150?u=${u.img}" class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                    <span class="text-[9px] font-black group-hover:text-[#F57C00] tracking-tighter">${u.n}</span>
                                </div>
                            `).join(''));
                        </script>
                    </div>
                </div>

                <div class="px-6 pb-32 space-y-6" id="waves-feed">
                    <h3 class="text-xs font-black uppercase tracking-widest text-zinc-500 mb-2">Public Waves</h3>
                    
                    <script>
                        const feedData = [
                            {user: 'KAI.DEV', avatar: 'kai', content: 'console.log("Hello Pulse!");', type: 'code', likes: 42, comms: 8, time: '2m'},
                            {user: 'SARAH_X', avatar: 'sarah', content: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=400', type: 'image', likes: 124, comms: 15, time: '15m'},
                            {user: 'BOSS_CLINTZY', avatar: 'clint', content: 'The Pro Engine is officially deployed. Let the waves begin. üçä', type: 'text', likes: 892, comms: 42, time: '1h'},
                            {user: 'JESSICA', avatar: 'jessica', content: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=400', type: 'image', likes: 56, comms: 4, time: '2h'},
                            {user: 'ZANE_AUDIO', avatar: 'zane', content: 'Midnight Pulse (Lo-fi Mix)', type: 'audio', likes: 210, comms: 18, time: '3h'},
                            {user: 'MARCUS_V', avatar: 'marcus', content: 'Always building, never sleeping. #PulseTech', type: 'text', likes: 34, comms: 2, time: '5h'},
                            {user: 'ALEX_DESIGN', avatar: 'alex', content: 'https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=400', type: 'image', likes: 88, comms: 11, time: '6h'}
                        ];

                        document.write(feedData.map(w => `
                            <div class="wave-card p-5 rounded-[2.5rem] fade-in-section">
                                <div class="flex items-center gap-3 mb-4">
                                    <img src="https://i.pravatar.cc/150?u=${w.avatar}" class="w-8 h-8 rounded-full border border-white/10">
                                    <span class="text-xs font-black uppercase tracking-tighter">${w.user}</span>
                                    <span class="text-[10px] text-zinc-600">${w.time}</span>
                                </div>
                                ${w.type === 'code' ? `<div class="bg-black/50 p-4 rounded-2xl mb-4 font-mono text-[11px] text-[#F57C00] border border-[#F57C00]/20">${w.content}</div>` : ''}
                                ${w.type === 'image' ? `<img src="${w.content}" class="w-full h-48 object-cover rounded-2xl mb-4">` : ''}
                                ${w.type === 'text' ? `<p class="text-sm font-medium mb-4 italic text-zinc-200">"${w.content}"</p>` : ''}
                                ${w.type === 'audio' ? `
                                    <div class="bg-[#F57C00] p-4 rounded-2xl mb-4 flex items-center gap-4 text-black">
                                        <i data-lucide="play-circle" class="w-10 h-10 fill-black"></i>
                                        <div><p class="text-xs font-black">${w.content}</p><p class="text-[9px] font-bold opacity-60">AUDIO_PULSE</p></div>
                                    </div>` : ''}
                                <div class="flex justify-between items-center text-zinc-400">
                                    <div class="flex gap-4">
                                        <button class="flex items-center gap-1.5 hover:text-red-500 transition-colors"><i data-lucide="heart" class="w-4 h-4"></i><span class="text-[10px] font-bold">${w.likes}</span></button>
                                        <button class="flex items-center gap-1.5 hover:text-[#F57C00] transition-colors"><i data-lucide="message-square" class="w-4 h-4"></i><span class="text-[10px] font-bold">${w.comms}</span></button>
                                    </div>
                                    <div class="flex gap-4">
                                        <i data-lucide="bookmark" class="w-4 h-4 hover:text-white cursor-pointer"></i>
                                        <i data-lucide="send" class="w-4 h-4 hover:text-white cursor-pointer" onclick="alert('Shared Wave!')"></i>
                                    </div>
                                </div>
                            </div>
                        `).join(''));
                    </script>
                </div>
            </div>

            <section id="chat-page" class="hidden px-6 pt-4 pb-32">
                <h2 class="text-2xl font-black uppercase italic mb-6">Pulse Chat</h2>
                <div class="space-y-4" id="active-chats"></div>
                
                <div id="convo-view" class="hidden fixed inset-0 bg-black z-[100] flex flex-col">
                    <div class="p-6 border-b border-white/5 flex items-center gap-4 pt-12">
                        <button onclick="closeConvo()"><i data-lucide="chevron-left" class="w-6 h-6"></i></button>
                        <img id="convo-avatar" src="" class="w-10 h-10 rounded-full">
                        <div>
                            <h4 id="convo-name" class="font-bold text-sm">User</h4>
                            <p class="text-[10px] text-green-500 font-black uppercase">Online Now</p>
                        </div>
                    </div>
                    <div class="flex-1 overflow-y-auto p-6 space-y-4" id="msg-container">
                        <div class="msg-in p-4 max-w-[80%] text-sm font-medium">Yo! Check out the new Pulse update.</div>
                        <div class="msg-out p-4 ml-auto max-w-[80%] text-sm font-medium">Already on it. Engine is smooth. üçä</div>
                    </div>
                    <div class="p-6 pb-12">
                        <div class="bg-zinc-900 rounded-[2rem] p-2 flex items-center gap-2">
                            <input type="text" placeholder="Type a message..." class="bg-transparent flex-1 px-4 outline-none text-sm">
                            <button class="bg-[#F57C00] p-3 rounded-full text-black"><i data-lucide="send" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="settings-page" class="hidden px-6 pt-4 pb-32">
                <h2 class="text-2xl font-black uppercase italic mb-6">Pulse Settings</h2>
                <div class="space-y-4">
                    <div class="bg-zinc-900/50 p-6 rounded-[2rem] border border-white/5">
                        <h4 class="text-[10px] font-black text-[#F57C00] uppercase mb-4 tracking-widest">Account Security</h4>
                        <div class="space-y-6">
                            <div class="flex justify-between items-center"><span class="text-sm font-bold">Two-Factor Pulse</span><div class="w-10 h-5 bg-green-500 rounded-full relative"><div class="absolute right-1 top-1 w-3 h-3 bg-white rounded-full"></div></div></div>
                            <div class="flex justify-between items-center"><span class="text-sm font-bold">Biometric Vault</span><div class="w-10 h-5 bg-zinc-700 rounded-full relative"><div class="absolute left-1 top-1 w-3 h-3 bg-white rounded-full"></div></div></div>
                        </div>
                    </div>
                    <div class="bg-zinc-900/50 p-6 rounded-[2rem] border border-white/5">
                        <h4 class="text-[10px] font-black text-[#F57C00] uppercase mb-4 tracking-widest">Preferences</h4>
                        <div class="space-y-4">
                            <button class="w-full flex justify-between items-center py-2"><span class="text-sm">Notification Vibe</span><i data-lucide="chevron-right" class="w-4 h-4"></i></button>
                            <button class="w-full flex justify-between items-center py-2"><span class="text-sm">Data Saver</span><i data-lucide="chevron-right" class="w-4 h-4"></i></button>
                            <button class="w-full flex justify-between items-center py-2"><span class="text-sm">Language (Pulse Default)</span><i data-lucide="chevron-right" class="w-4 h-4"></i></button>
                        </div>
                    </div>
                    <div class="bg-zinc-900/50 rounded-[2rem] border border-white/5 mb-6 overflow-hidden">
    <button onclick="toggleWisdomSection()" class="w-full p-6 flex justify-between items-center group">
        <h4 class="text-[10px] font-black text-[#F57C00] uppercase tracking-widest">Pulse Wisdom</h4>
        <i id="wisdom-arrow" data-lucide="chevron-down" class="w-4 h-4 text-zinc-600 group-hover:text-[#F57C00] transition-transform duration-300"></i>
    </button>

    <div id="wisdom-links" class="hidden px-6 pb-6 space-y-4 fade-in-section">
        <button onclick="showWisdom('manifesto')" class="w-full flex justify-between items-center py-2 group">
            <span class="text-sm font-bold group-hover:text-[#F57C00] transition-colors">The Manifesto</span>
            <i data-lucide="sparkles" class="w-4 h-4 text-zinc-500"></i>
        </button>
        <button onclick="showWisdom('about')" class="w-full flex justify-between items-center py-2 group">
            <span class="text-sm font-bold group-hover:text-[#F57C00] transition-colors">Our Story</span>
            <i data-lucide="book-open" class="w-4 h-4 text-zinc-500"></i>
        </button>
    </div>
</div>

<div id="wisdom-overlay" class="hidden fixed inset-0 bg-black/98 z-[2000] overflow-y-auto px-8 py-20 backdrop-blur-2xl">
    <button onclick="closeWisdom()" class="fixed top-8 right-8 p-3 bg-white/10 rounded-full hover:bg-[#F57C00] transition-colors">
        <i data-lucide="x" class="w-6 h-6 text-white"></i>
    </button>
    <div id="wisdom-content" class="max-w-md mx-auto fade-in-section"></div>
</div>

<script>
    // Logic for the Settings Toggle
    function toggleWisdomSection() {
        const content = document.getElementById('wisdom-links');
        const arrow = document.getElementById('wisdom-arrow');
        const isHidden = content.classList.contains('hidden');
        
        if (isHidden) {
            content.classList.remove('hidden');
            arrow.style.transform = 'rotate(180deg)';
        } else {
            content.classList.add('hidden');
            arrow.style.transform = 'rotate(0deg)';
        }
    }

    // Data and Overlay Logic
    const wisdomData = {
        manifesto: `
            <h1 class="text-4xl font-black italic text-[#F57C00] mb-8 uppercase tracking-tighter">Frequency over Noise</h1>
            <div class="space-y-6 text-zinc-300 italic">
                <p>"Your digital space should be an extension of your spirit, not a cage for your attention."</p>
                <p>"We believe in the <span class="text-white font-bold">Pulse</span>. The raw, unedited heartbeat of a creator."</p>
                <p>"Where your treasure is, there your heart will be also."</p>
                <div class="h-px bg-white/10 my-8"></div>
                <p class="text-white text-xl font-black uppercase not-italic">Stop Scrolling. Start Pulsing.</p>
            </div>
        `,
        about: `
            <h1 class="text-4xl font-black italic text-[#F57C00] mb-8 uppercase tracking-tighter">The Architects</h1>
            <div class="space-y-6 text-zinc-400 text-sm">
                <p>Clintzy began in a small dark room, fueled by the conviction that social media had lost its soul.</p>
                <p>Founder <span class="text-white font-bold">Boss Clintzy</span> envisioned a <span class="text-[#F57C00]">Digital Sanctuary</span>‚Äîa system prioritizing human energy over robotic engagement.</p>
                <p>We built the <span class="text-white font-bold">Vault</span> because your data is your legacy. We are the architects returning the heart to the machine.</p>
            </div>
        `
    };

    function showWisdom(key) {
        const overlay = document.getElementById('wisdom-overlay');
        const content = document.getElementById('wisdom-content');
        content.innerHTML = wisdomData[key];
        overlay.classList.remove('hidden');
        document.body.style.overflow = 'hidden'; 
        lucide.createIcons();
    }

    function closeWisdom() {
        document.getElementById('wisdom-overlay').classList.add('hidden');
        document.body.style.overflow = 'auto';
    }
</script>

                    <button 
onclick="initiateSignOut()" class="w-full p-5 bg-red-500/10 border border-red-500/20 text-red-500 font-black rounded-3xl uppercase tracking-widest mt-4">Sign Out Device</button>
                </div>
            </section>

            <section id="group-page" class="hidden px-6 pt-4 pb-32">
                <h2 class="text-2xl font-black uppercase italic mb-2">Pulse Groups</h2>
                <div class="bg-zinc-900/50 p-8 rounded-[2rem] border border-white/5 text-center mt-6">
                    <i data-lucide="users" class="w-12 h-12 text-zinc-700 mx-auto mb-4"></i>
                    <p class="text-sm font-bold text-zinc-500">No active groups yet.<br>Join a wave to start one.</p>
                </div>
            </section>

            <section id="vault-page" class="hidden px-6 pt-4 pb-32">
                <h2 class="text-2xl font-black uppercase italic leading-none">The Vault</h2>
                <div class="mt-8 grid grid-cols-2 gap-4">
                    <div class="media-grid-item"><div class="absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm"><i data-lucide="lock" class="w-5 h-5 text-white/50"></i></div></div>
                </div>
            </section>

            <section id="profile-page" class="hidden pt-4 pb-32">
                <div class="px-6 text-center">
                    <div class="profile-glow w-28 h-28 mx-auto mb-4">
                        <div class="w-full h-full rounded-[2rem] overflow-hidden bg-black border-2 border-black">
                            <img src="https://i.pravatar.cc/150?u=boss_clintzy" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <h2 class="text-2xl font-black italic mb-1 uppercase tracking-tighter">Boss Clintzy</h2>
                    <p class="text-[10px] text-zinc-500 uppercase font-black tracking-[0.2em] mb-6">Digital Architect ‚Ä¢ Pulse Pro</p>
                    
                    <div class="flex justify-center gap-12 mb-8">
                        <div class="profile-stat">
                            <span class="text-lg font-black italic">14.2k</span>
                            <span class="text-[9px] font-black text-zinc-500 uppercase tracking-widest">Followers</span>
                        </div>
                        <div class="profile-stat">
                            <span class="text-lg font-black italic">892</span>
                            <span class="text-[9px] font-black text-zinc-500 uppercase tracking-widest">Following</span>
                        </div>
                        <div class="profile-stat">
                            <span class="text-lg font-black italic">34</span>
                            <span class="text-[9px] font-black text-zinc-500 uppercase tracking-widest">Waves</span>
                        </div>
                    </div>

                    <button id="main-follow-btn" onclick="toggleFollow()" class="follow-btn w-full py-4 rounded-2xl text-black font-black uppercase tracking-widest text-xs mb-8">
                        Follow Pulse
                    </button>

                    <div class="flex border-b border-white/5 mb-6">
                        <button class="flex-1 pb-4 text-[10px] font-black uppercase tracking-widest content-tab-active">My Waves</button>
                        <button class="flex-1 pb-4 text-[10px] font-black uppercase tracking-widest text-zinc-600">Tagged</button>
                    </div>

                    <div class="grid grid-cols-3 gap-2 px-1">
                        <div class="media-grid-item"><img src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=300" class="w-full h-full object-cover opacity-80"></div>
                        <div class="media-grid-item"><img src="https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=300" class="w-full h-full object-cover opacity-80"></div>
                        <div class="media-grid-item"><img src="https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=300" class="w-full h-full object-cover opacity-80"></div>
                    </div>
                </div>
            </section>
        </main>

        <nav class="fixed bottom-0 inset-x-0 bg-black/80 backdrop-blur-2xl border-t border-white/5 px-8 pt-4 pb-10 flex justify-between items-center z-50">
            <button onclick="switchTab('wave')" class="nav-item nav-active flex flex-col items-center gap-1">
                <i data-lucide="layout-grid" class="w-6 h-6"></i>
                <span class="text-[9px] font-black uppercase">Wave</span>
            </button>
            <button onclick="switchTab('chat')" class="nav-item flex flex-col items-center gap-1 text-zinc-500">
                <i data-lucide="message-circle" class="w-6 h-6"></i>
                <span class="text-[9px] font-black uppercase">Chat</span>
            </button>
            <div class="absolute left-1/2 -translate-x-1/2 -top-6">
                <button onclick="openCreatorOptions()" class="w-16 h-16 bg-[#F57C00] rounded-[2rem] flex items-center justify-center active:scale-90 transition-all shadow-2xl shadow-[#F57C00]/20">
                    <i data-lucide="zap" class="w-8 h-8 text-black fill-black"></i>
                </button>
            </div>
            <button onclick="switchTab('group')" class="nav-item flex flex-col items-center gap-1 text-zinc-500">
                <i data-lucide="users" class="w-6 h-6"></i>
                <span class="text-[9px] font-black uppercase">Groups</span>
            </button>
            <button onclick="switchTab('profile')" class="nav-item flex flex-col items-center gap-1 text-zinc-500">
                <i data-lucide="user" class="w-6 h-6"></i>
                <span class="text-[9px] font-black uppercase">Me</span>
            </button>
        </nav>
    </div>

    <div id="creator-modal" class="hidden fixed inset-0 bg-black/90 backdrop-blur-xl z-[800] flex items-center justify-center p-6">
        <div class="w-full max-w-sm grid grid-cols-2 gap-4">
            <div class="col-span-2 flex justify-between items-center mb-4">
                <h3 class="text-xl font-black uppercase italic tracking-tighter text-[#F57C00]">Start a Wave</h3>
                <button onclick="closeCreatorOptions()"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            <button onclick="launchCamera('video')" class="creator-option p-6 rounded-[2rem] flex flex-col items-center gap-3 active:scale-95 transition-all">
                <i data-lucide="video" class="w-8 h-8 text-[#F57C00]"></i>
                <span class="text-[10px] font-black uppercase">Video</span>
            </button>
            <button onclick="launchCamera('photo')" class="creator-option p-6 rounded-[2rem] flex flex-col items-center gap-3 active:scale-95 transition-all">
                <i data-lucide="camera" class="w-8 h-8 text-blue-500"></i>
                <span class="text-[10px] font-black uppercase">Picture</span>
            </button>
            <button onclick="alert('Audio Recording...')" class="creator-option p-6 rounded-[2rem] flex flex-col items-center gap-3 active:scale-95 transition-all">
                <i data-lucide="mic" class="w-8 h-8 text-purple-500"></i>
                <span class="text-[10px] font-black uppercase">Audio</span>
            </button>
            <button onclick="alert('Going LIVE!')" class="creator-option p-6 rounded-[2rem] flex flex-col items-center gap-3 active:scale-95 transition-all">
                <div class="relative">
                    <i data-lucide="radio" class="w-8 h-8 text-red-500"></i>
                    <div class="absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-ping"></div>
                </div>
                <span class="text-[10px] font-black uppercase">Live Vibe</span>
            </button>
        </div>
    </div>

    <div id="story-overlay" class="hidden fixed inset-0 z-[1000] flex flex-col">
        <div class="absolute top-0 inset-x-0 p-6 flex gap-2 pt-10" id="story-progress-container"></div>
        <div class="p-6 flex items-center justify-between absolute top-12 inset-x-0 z-10">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full border border-white/20 overflow-hidden bg-zinc-800"><img id="story-avatar" src="" class="w-full h-full object-cover"></div>
                <h4 id="story-username" class="font-black text-sm uppercase tracking-tighter italic">User</h4>
            </div>
            <button onclick="closeStory()"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        <img id="story-image" src="" class="w-full h-full object-cover">
    </div>

    <script>
        let currentStream = null;
        let storyTimer = null;
        let useFrontCamera = true;
        let isFollowing = false;
        let chats = [
            { id: 1, name: 'Jessica Griffin', message: 'Active now', avatar: 'https://i.pravatar.cc/150?u=jessica' },
            { id: 2, name: 'Marcus Vane', message: 'Pulse Pro is live! üçä', avatar: 'https://i.pravatar.cc/150?u=marcus' },
            { id: 3, name: 'Alex Design', message: 'Sent a wave', avatar: 'https://i.pravatar.cc/150?u=alex' }
        ];

        window.addEventListener('load', () => {
            if (localStorage.getItem('pulse_authorized') === 'false') {
                window.location.href = "auth.html";
            } else {
                finalizeAuth();
            }
            
            setTimeout(() => {
                document.getElementById('splash-screen').style.opacity = '0';
                setTimeout(() => document.getElementById('splash-screen').style.visibility = 'hidden', 500);
            }, 2500);
        });

        function finalizeAuth() {
            document.getElementById('app-content').style.opacity = '1';
            renderChats();
        }

        // --- NAVIGATION ---
        function switchTab(tab) {
            const ids = ['home-section', 'chat-page', 'vault-page', 'group-page', 'profile-page', 'settings-page'];
            ids.forEach(id => document.getElementById(id).classList.add('hidden'));

            const mapping = { 'wave': 'home-section', 'me': 'profile-page' };
            const targetId = mapping[tab] || `${tab}-page`;
            
            const targetEl = document.getElementById(targetId);
            if(targetEl) targetEl.classList.remove('hidden');
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('nav-active');
                item.classList.add('text-zinc-500');
                if(item.innerText.toLowerCase().includes(tab) || (tab === 'profile' && item.innerText.includes('Me'))) {
                    item.classList.add('nav-active');
                    item.classList.remove('text-zinc-500');
                }
            });
            lucide.createIcons();
        }

        // --- PROFILE LOGIC ---
        function toggleFollow() {
            isFollowing = !isFollowing;
            const btn = document.getElementById('main-follow-btn');
            if(isFollowing) {
                btn.innerText = "Following";
                btn.style.background = "rgba(255,255,255,0.1)";
                btn.style.color = "white";
                btn.style.border = "1px solid rgba(255,255,255,0.2)";
                btn.style.boxShadow = "none";
            } else {
                btn.innerText = "Follow Pulse";
                btn.style.background = "linear-gradient(45deg, var(--brand), #ffcc00)";
                btn.style.color = "black";
            }
        }

        // --- CHAT LOGIC ---
        function renderChats() {
            const container = document.getElementById('active-chats');
            if(!container) return;
            container.innerHTML = chats.map(chat => `
                <div onclick="openConvo('${chat.name}', '${chat.avatar}')" class="flex items-center gap-4 bg-zinc-900/40 p-4 rounded-3xl border border-white/5 cursor-pointer hover:bg-white/5">
                    <img src="${chat.avatar}" class="w-12 h-12 rounded-2xl object-cover">
                    <div class="flex-1">
                        <h4 class="font-bold text-sm text-white">${chat.name}</h4>
                        <p class="text-[10px] text-[#F57C00] font-bold uppercase">${chat.message}</p>
                    </div>
                    <i data-lucide="chevron-right" class="w-4 h-4 text-zinc-600"></i>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function openConvo(name, avatar) {
            document.getElementById('convo-name').innerText = name;
            document.getElementById('convo-avatar').src = avatar;
            document.getElementById('convo-view').classList.remove('hidden');
            lucide.createIcons();
        }

        function closeConvo() {
            document.getElementById('convo-view').classList.add('hidden');
        }

        // --- CREATOR ---
        function openCreatorOptions() { document.getElementById('creator-modal').classList.remove('hidden'); }
        function closeCreatorOptions() { document.getElementById('creator-modal').classList.add('hidden'); }

        async function launchCamera(mode) {
            closeCreatorOptions();
            alert("Camera Engine Initializing for " + mode);
        }

        // --- STORY ---
        function viewStory(user, img) {
            const overlay = document.getElementById('story-overlay');
            const progressContainer = document.getElementById('story-progress-container');
            document.getElementById('story-username').innerText = user;
            document.getElementById('story-avatar').src = `https://i.pravatar.cc/150?u=${user.toLowerCase()}`;
            document.getElementById('story-image').src = img;
            progressContainer.innerHTML = '<div class="story-progress"><div class="story-progress-bar" id="bar"></div></div>';
            overlay.classList.remove('hidden');
            let width = 0;
            storyTimer = setInterval(() => {
                if (width >= 100) { closeStory(); } 
                else { width++; document.getElementById('bar').style.width = width + '%'; }
            }, 50);
        }

        function closeStory() {
            clearInterval(storyTimer);
            document.getElementById('story-overlay').classList.add('hidden');
        }

        function toggleMenu() { document.getElementById('more-menu').classList.toggle('hidden'); }
        function initiateSignOut() { localStorage.setItem('pulse_authorized', 'false'); window.location.href = "auth.html"; }

        lucide.createIcons();
    </script>
</body>
</html>
